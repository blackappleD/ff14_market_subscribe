[{"D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\main.ts":"1","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\App.vue":"2","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\store\\index.ts":"3","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\store\\modules\\auth.ts":"4","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\router\\index.ts":"5","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\utils\\axios.ts":"6","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Home.vue":"7","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Subscribe.vue":"8","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Login.vue":"9","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Register.vue":"10"},{"size":195,"mtime":1735206586520,"results":"11","hashOfConfig":"12"},{"size":552,"mtime":1735193788623,"results":"13","hashOfConfig":"12"},{"size":183,"mtime":1735206584769,"results":"14","hashOfConfig":"12"},{"size":1994,"mtime":1735270594963,"results":"15","hashOfConfig":"12"},{"size":718,"mtime":1735522947511,"results":"16","hashOfConfig":"12"},{"size":1472,"mtime":1735527396629,"results":"17","hashOfConfig":"12"},{"size":5349,"mtime":1735206483764,"results":"18","hashOfConfig":"12"},{"size":19843,"mtime":1735290258246,"results":"19","hashOfConfig":"12"},{"size":5050,"mtime":1735287151221,"results":"20","hashOfConfig":"12"},{"size":4320,"mtime":1735206122630,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1w79k29",{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},"D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\main.ts",[],"D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\App.vue",[],"D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\store\\index.ts",[],"D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\store\\modules\\auth.ts",["48","49"],"import { Module } from 'vuex';\r\nimport { RootState, AuthState } from '../types';\r\nimport axios from '@/utils/axios';\r\n\r\nconst auth: Module<AuthState, RootState> = {\r\n    namespaced: true,\r\n    state: {\r\n        token: localStorage.getItem('token'),\r\n        isLoggedIn: !!localStorage.getItem('token'),\r\n        username: localStorage.getItem('username'),\r\n        email: localStorage.getItem('email')\r\n    },\r\n    mutations: {\r\n        setToken(state, token: string) {\r\n            try {\r\n                // 确保 token 是字符串\r\n                if (typeof token !== 'string') {\r\n                    console.error('Invalid token type:', typeof token);\r\n                    return;\r\n                }\r\n                \r\n                state.token = token;\r\n                localStorage.setItem('token', token);\r\n                \r\n                // 设置 axios 默认 headers\r\n                axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n            } catch (error) {\r\n                console.error('设置 token 失败:', error);\r\n            }\r\n        },\r\n        setUser(state, user: { userName: string; email: string }) {\r\n            if (user) {\r\n                state.username = user.userName;\r\n                state.email = user.email;\r\n                localStorage.setItem('username', user.userName);\r\n                localStorage.setItem('email', user.email);\r\n            }\r\n        },\r\n        setLoggedIn(state, value: boolean) {\r\n            state.isLoggedIn = value;\r\n        },\r\n        logout(state) {\r\n            state.token = null;\r\n            state.isLoggedIn = false;\r\n            state.username = null;\r\n            state.email = null;\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('username');\r\n            localStorage.removeItem('email');\r\n            // 清除 axios 默认 headers\r\n            delete axios.defaults.headers.common['Authorization'];\r\n        }\r\n    }\r\n};\r\n\r\nexport default auth;\r\n","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\router\\index.ts",[],"D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\utils\\axios.ts",["50","51","52"],"import axios from 'axios';\r\nimport store from '@/store';\r\nimport router from '@/router';\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.VUE_APP_API_URL,\r\n    timeout: 10000,\r\n    withCredentials: true,\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n// 请求拦截器\r\ninstance.interceptors.request.use(\r\n    config => {\r\n        const token = store.state.auth.token;\r\n        if (token && config.headers) {\r\n            try {\r\n                // 添加 token 到请求头\r\n                config.headers.Authorization = `Bearer ${token}`;\r\n            } catch (error) {\r\n                console.error('设置请求头失败:', error);\r\n            }\r\n        }\r\n        // 确保 API 请求路径正确\r\n        if (config.url && !config.url.startsWith('http')) {\r\n            config.url = `${process.env.VUE_APP_API_URL}${config.url}`;\r\n        }\r\n        return config;\r\n    },\r\n    error => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// 响应拦截器\r\ninstance.interceptors.response.use(\r\n    response => {\r\n        // 打印响应数据，用于调试\r\n        console.log('Response:', response);\r\n        return response;\r\n    },\r\n    error => {\r\n        console.error('Request error:', error);\r\n        if (error.response?.status === 401) {\r\n            store.commit('auth/logout');\r\n            router.push('/login');\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default instance;\r\n","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Home.vue",["53"],"<template>\r\n    <div class=\"home-container\">\r\n        <div class=\"nav-bar\">\r\n            <router-link to=\"/\" class=\"nav-item active\">首页</router-link>\r\n            <router-link to=\"/subscribe\" class=\"nav-item\">物品订阅</router-link>\r\n        </div>\r\n        <div class=\"content\">\r\n            <template v-if=\"!isLoggedIn\">\r\n                <h1 class=\"title\">首页</h1>\r\n                <div class=\"button-group\">\r\n                    <button class=\"login-btn\" @click=\"goToLogin\">登录</button>\r\n                    <button class=\"register-btn\" @click=\"goToRegister\">注册</button>\r\n                </div>\r\n            </template>\r\n            <template v-else>\r\n                <div class=\"user-profile\">\r\n                    <div class=\"avatar\">\r\n                        <span class=\"avatar-text\">头像</span>\r\n                    </div>\r\n                    <div class=\"user-info\">\r\n                        <h2 class=\"username\">{{ username }}</h2>\r\n                        <p class=\"email\">{{ email }}</p>\r\n                        <button class=\"logout-btn\" @click=\"handleLogout\">退出登录</button>\r\n                    </div>\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport { RootState } from '@/store/types';\r\nimport axios from '@/utils/axios';\r\n\r\nexport default defineComponent({\r\n    name: 'HomePage',\r\n    setup() {\r\n        const router = useRouter();\r\n        const store = useStore<RootState>();\r\n\r\n        const isLoggedIn = computed(() => store.state.auth.isLoggedIn);\r\n        const username = computed(() => store.state.auth.username);\r\n        const email = computed(() => store.state.auth.email);\r\n\r\n        const goToLogin = () => {\r\n            router.push('/login');\r\n        };\r\n\r\n        const goToRegister = () => {\r\n            router.push('/register');\r\n        };\r\n\r\n        const handleLogout = async () => {\r\n            try {\r\n                // 调用后端退出登录接口\r\n                await axios.post('/ff14/user/logout');\r\n\r\n                // 清除本地存储的登录状态\r\n                store.commit('auth/logout');\r\n\r\n                // 清除 axios 请求头中的 token\r\n                delete axios.defaults.headers.common['Authorization'];\r\n\r\n                // 跳转到登录页面\r\n                router.push('/login');\r\n            } catch (error) {\r\n                console.error('退出登录失败:', error);\r\n            }\r\n        };\r\n\r\n        return {\r\n            isLoggedIn,\r\n            username,\r\n            email,\r\n            goToLogin,\r\n            goToRegister,\r\n            handleLogout\r\n        };\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.home-container {\r\n    min-height: 100vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: #ffffff;\r\n}\r\n\r\n.nav-bar {\r\n    padding: 15px 0;\r\n    display: flex;\r\n    gap: 30px;\r\n    border-bottom: 1px solid #eee;\r\n    margin-left: 20px;\r\n}\r\n\r\n.nav-item {\r\n    text-decoration: none;\r\n    color: #666;\r\n    font-size: 14px;\r\n    padding: 0;\r\n    transition: all 0.3s ease;\r\n    position: relative;\r\n}\r\n\r\n.nav-item:hover {\r\n    color: #4285f4;\r\n}\r\n\r\n.nav-item.active {\r\n    color: #4285f4;\r\n    font-weight: normal;\r\n}\r\n\r\n.nav-item.active::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -16px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #4285f4;\r\n}\r\n\r\n.content {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: -100px;\r\n}\r\n\r\n.title {\r\n    font-size: 36px;\r\n    color: #333;\r\n    margin-bottom: 60px;\r\n    font-weight: normal;\r\n}\r\n\r\n.button-group {\r\n    display: flex;\r\n    gap: 30px;\r\n}\r\n\r\n.login-btn,\r\n.register-btn {\r\n    padding: 12px 50px;\r\n    font-size: 14px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    min-width: 120px;\r\n}\r\n\r\n.login-btn {\r\n    background-color: #4285f4;\r\n    color: white;\r\n}\r\n\r\n.login-btn:hover {\r\n    background-color: #3367d6;\r\n}\r\n\r\n.register-btn {\r\n    background-color: #e0e0e0;\r\n    color: #333;\r\n}\r\n\r\n.register-btn:hover {\r\n    background-color: #d0d0d0;\r\n}\r\n\r\n.user-profile {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 20px;\r\n}\r\n\r\n.avatar {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n    background-color: #e0e0e0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.avatar-text {\r\n    color: #666;\r\n    font-size: 14px;\r\n}\r\n\r\n.user-info {\r\n    text-align: center;\r\n}\r\n\r\n.username {\r\n    font-size: 24px;\r\n    color: #333;\r\n    margin-bottom: 10px;\r\n    font-weight: normal;\r\n}\r\n\r\n.email {\r\n    font-size: 14px;\r\n    color: #666;\r\n}\r\n\r\n.logout-btn {\r\n    margin-top: 20px;\r\n    padding: 8px 24px;\r\n    background-color: #f44336;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.logout-btn:hover {\r\n    background-color: #d32f2f;\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n</style>","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Subscribe.vue",["54","55","56","57","58"],"<template>\r\n    <div class=\"subscribe-container\">\r\n        <div class=\"nav-bar\">\r\n            <router-link to=\"/\" class=\"nav-item\">首页</router-link>\r\n            <router-link to=\"/subscribe\" class=\"nav-item active\">物品订阅</router-link>\r\n        </div>\r\n        <div class=\"content\">\r\n            <h2 class=\"page-title\">物品订阅</h2>\r\n            <div class=\"subscription-form\">\r\n                <!-- 区服组列表 -->\r\n                <div v-for=\"(group, groupIndex) in subscriptionGroups\" :key=\"groupIndex\" class=\"group\">\r\n                    <div class=\"input-row\">\r\n                        <div class=\"server-column\">\r\n                            <input v-model=\"group.worldSearch\" class=\"input-field\" placeholder=\"请选择区服\"\r\n                                @input=\"searchWorlds(groupIndex)\" @focus=\"showWorldDropdown(groupIndex)\"\r\n                                @blur=\"hideDropdown('world', groupIndex)\">\r\n                            <!-- 区服下拉菜单 -->\r\n                            <div v-if=\"group.showWorldDropdown && group.worldResults.length\" class=\"dropdown-menu\">\r\n                                <div v-for=\"world in group.worldResults\" :key=\"world.id\" class=\"dropdown-item\"\r\n                                    @mousedown=\"selectWorld(groupIndex, world)\">\r\n                                    {{ world.name }}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"items-column\">\r\n                            <div class=\"item-wrapper\">\r\n                                <input v-model=\"group.items[0].nameSearch\" class=\"input-field\" placeholder=\"物品名称\"\r\n                                    @input=\"searchItems(groupIndex, 0)\" @focus=\"showItemDropdown(groupIndex, 0)\"\r\n                                    @blur=\"hideDropdown('item', groupIndex, 0)\">\r\n\r\n                                <div v-if=\"group.items[0].showDropdown && group.items[0].searchResults.length\"\r\n                                    class=\"dropdown-menu\">\r\n                                    <div v-for=\"item in group.items[0].searchResults\" :key=\"item.id\"\r\n                                        class=\"dropdown-item\" @mousedown=\"selectItem(groupIndex, 0, item)\">\r\n                                        {{ item.name }}\r\n                                    </div>\r\n                                </div>\r\n                                <input v-model=\"group.items[0].threshold\" class=\"input-field threshold\" type=\"number\"\r\n                                    placeholder=\"价格阈值\">\r\n                                <button class=\"delete-button\" @click=\"deleteItem(groupIndex, 0)\">×</button>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- 额外的物品行 -->\r\n                    <div v-for=\"(item, itemIndex) in group.items.slice(1)\" :key=\"itemIndex\" class=\"input-row\">\r\n                        <div class=\"empty-field\"></div>\r\n                        <div class=\"item-input-wrapper\">\r\n                            <input v-model=\"item.nameSearch\" class=\"input-field\" placeholder=\"物品名称\"\r\n                                @input=\"searchItems(groupIndex, itemIndex + 1)\"\r\n                                @focus=\"showItemDropdown(groupIndex, itemIndex + 1)\"\r\n                                @blur=\"hideDropdown('item', groupIndex, itemIndex + 1)\">\r\n                            <!-- 物品下拉菜单 -->\r\n                            <div v-if=\"item.showDropdown && item.searchResults.length\" class=\"dropdown-menu\">\r\n                                <div v-for=\"result in item.searchResults\" :key=\"result.id\" class=\"dropdown-item\"\r\n                                    @mousedown=\"selectItem(groupIndex, itemIndex + 1, result)\">\r\n                                    {{ result.name }}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <input v-model=\"item.threshold\" class=\"input-field\" type=\"number\" placeholder=\"价格阈值\">\r\n                        <button class=\"delete-button\" @click=\"deleteItem(groupIndex, itemIndex + 1)\">×</button>\r\n                    </div>\r\n                    <button class=\"add-item-button\" @click=\"addItem(groupIndex)\">\r\n                        <span class=\"plus-icon\">+</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <!-- 添加区服组按钮 -->\r\n                <div class=\"server-add-row\">\r\n                    <button class=\"add-world-button\" @click=\"addServerGroup\">\r\n                        <span class=\"plus-icon\">+</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <!-- 添加提交按钮 -->\r\n                <div class=\"submit-row\">\r\n                    <button class=\"submit-button\" @click=\"handleSubmit\">保存订阅</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref, onMounted } from 'vue';\r\nimport axios from '@/utils/axios';\r\n\r\n// 修改 debounce ��数的类型定义\r\nfunction debounce<T extends (...args: any[]) => any>(\r\n    fn: T,\r\n    delay: number\r\n): (...args: Parameters<T>) => void {\r\n    let timeoutId: number;\r\n    return (...args: Parameters<T>) => {\r\n        if (timeoutId) {\r\n            window.clearTimeout(timeoutId);\r\n        }\r\n        timeoutId = window.setTimeout(() => fn(...args), delay);\r\n    };\r\n}\r\n\r\n// 定义接口类型\r\ninterface WorldDTO {\r\n    id: number;\r\n    name: string;\r\n    level: string;\r\n}\r\n\r\ninterface ItemDTO {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\ninterface ItemSubResDTO {\r\n    id: number;\r\n    item: ItemDTO;\r\n    notifyThreshold: number;\r\n}\r\n\r\ninterface UserSubscribeResDTO {\r\n    world: WorldDTO;\r\n    items: ItemSubResDTO[];\r\n}\r\n\r\ninterface Item {\r\n    id?: number;\r\n    name?: string;\r\n    nameSearch: string;\r\n    threshold: number;\r\n    showDropdown: boolean;\r\n    searchResults: any[];\r\n}\r\n\r\ninterface ServerGroup {\r\n    worldId?: number;\r\n    world?: string;\r\n    worldSearch: string;\r\n    showWorldDropdown: boolean;\r\n    worldResults: any[];\r\n    items: Item[];\r\n}\r\n\r\ninterface ItemSubReqDTO {\r\n    id?: number;\r\n    item: {\r\n        id: number;\r\n    };\r\n    notifyThreshold?: number;\r\n}\r\n\r\ninterface UserSubscribeReqDTO {\r\n    id?: number;\r\n    world: {\r\n        id: number;\r\n    };\r\n    items: ItemSubReqDTO[];\r\n}\r\n\r\nexport default defineComponent({\r\n    name: 'Subscribe',\r\n    setup() {\r\n        const subscriptionGroups = ref<ServerGroup[]>([{\r\n            worldSearch: '',\r\n            showWorldDropdown: false,\r\n            worldResults: [],\r\n            items: [{\r\n                nameSearch: '',\r\n                threshold: 0,\r\n                showDropdown: false,\r\n                searchResults: []\r\n            }]\r\n        }]);\r\n\r\n        // 修改区服搜索逻辑，分为初始加载和搜索两个函数\r\n        const loadAllWorlds = async (groupIndex: number) => {\r\n            try {\r\n                const response = await axios.get('/ff14/world/search?name='); // 获取所有区服列表\r\n                subscriptionGroups.value[groupIndex].worldResults = response.data;\r\n            } catch (error) {\r\n                console.error('获取区服列表失败:', error);\r\n            }\r\n        };\r\n\r\n        const searchWorlds = debounce(async (groupIndex: number) => {\r\n            const search = subscriptionGroups.value[groupIndex].worldSearch;\r\n            if (!search) {\r\n                await loadAllWorlds(groupIndex);\r\n                return;\r\n            }\r\n            try {\r\n                const response = await axios.get(`/ff14/world/search?name=${search}`);\r\n                subscriptionGroups.value[groupIndex].worldResults = response.data;\r\n            } catch (error) {\r\n                console.error('搜索区服失败:', error);\r\n            }\r\n        }, 300);\r\n\r\n        const searchItems = debounce(async (groupIndex: number, itemIndex: number) => {\r\n            const search = subscriptionGroups.value[groupIndex].items[itemIndex].nameSearch;\r\n            try {\r\n                const response = await axios.get(`/ff14/item/search?name=${search}`);\r\n                subscriptionGroups.value[groupIndex].items[itemIndex].searchResults = response.data;\r\n            } catch (error) {\r\n                console.error('搜索物品失败:', error);\r\n            }\r\n        }, 300);\r\n\r\n        // 修改显示区服下拉列表的方法\r\n        const showWorldDropdown = async (groupIndex: number) => {\r\n            subscriptionGroups.value[groupIndex].showWorldDropdown = true;\r\n            await loadAllWorlds(groupIndex); // 直接加载所有区服列表\r\n        };\r\n\r\n        // 修改显示物品下拉列表的方法\r\n        const showItemDropdown = async (groupIndex: number, itemIndex: number) => {\r\n            subscriptionGroups.value[groupIndex].items[itemIndex].showDropdown = true;\r\n        };\r\n\r\n        const hideDropdown = (type: 'world' | 'item', groupIndex: number, itemIndex?: number) => {\r\n            setTimeout(() => {\r\n                if (type === 'world') {\r\n                    subscriptionGroups.value[groupIndex].showWorldDropdown = false;\r\n                } else if (itemIndex !== undefined) {\r\n                    subscriptionGroups.value[groupIndex].items[itemIndex].showDropdown = false;\r\n                }\r\n            }, 200);\r\n        };\r\n\r\n        const selectWorld = (groupIndex: number, world: any) => {\r\n            const group = subscriptionGroups.value[groupIndex];\r\n            group.worldId = world.id;\r\n            group.world = world.name;\r\n            group.worldSearch = world.name;\r\n            group.showWorldDropdown = false;\r\n        };\r\n\r\n        const selectItem = (groupIndex: number, itemIndex: number, item: any) => {\r\n            const itemData = subscriptionGroups.value[groupIndex].items[itemIndex];\r\n            itemData.id = item.id;\r\n            itemData.name = item.name;\r\n            itemData.nameSearch = item.name;\r\n            itemData.showDropdown = false;\r\n        };\r\n\r\n        const addServerGroup = () => {\r\n            subscriptionGroups.value.push({\r\n                worldSearch: '',\r\n                showWorldDropdown: false,\r\n                worldResults: [],\r\n                items: [{\r\n                    nameSearch: '',\r\n                    threshold: 0,\r\n                    showDropdown: false,\r\n                    searchResults: []\r\n                }]\r\n            });\r\n        };\r\n\r\n        const addItem = (groupIndex: number) => {\r\n            subscriptionGroups.value[groupIndex].items.push({\r\n                nameSearch: '',\r\n                threshold: 0,\r\n                showDropdown: false,\r\n                searchResults: []\r\n            });\r\n        };\r\n\r\n        const deleteItem = (groupIndex: number, itemIndex: number) => {\r\n            const group = subscriptionGroups.value[groupIndex];\r\n            if (group.items.length === 1) {\r\n                // 如果是组内最后一个物品，删除整个组\r\n                subscriptionGroups.value.splice(groupIndex, 1);\r\n            } else {\r\n                // 否则只删除该物品\r\n                group.items.splice(itemIndex, 1);\r\n            }\r\n        };\r\n\r\n        // 修改 fetchSubscriptions 函数\r\n        const fetchSubscriptions = async () => {\r\n            try {\r\n                const response = await axios.get('/ff14/subscribe');\r\n                const subscriptions: UserSubscribeResDTO[] = response.data;\r\n\r\n                // 转换后端数据格式为前端格式\r\n                subscriptionGroups.value = subscriptions.map(sub => ({\r\n                    worldId: sub.world.id,\r\n                    world: sub.world.name,\r\n                    worldSearch: sub.world.name,\r\n                    showWorldDropdown: false,\r\n                    worldResults: [],\r\n                    items: sub.items.map(itemSub => ({\r\n                        id: itemSub.item.id,\r\n                        name: itemSub.item.name,\r\n                        nameSearch: itemSub.item.name,\r\n                        threshold: itemSub.notifyThreshold,\r\n                        showDropdown: false,\r\n                        searchResults: []\r\n                    }))\r\n                }));\r\n\r\n                // 如果没有订阅数据，添加一个空的组\r\n                if (subscriptionGroups.value.length === 0) {\r\n                    subscriptionGroups.value.push({\r\n                        worldSearch: '',\r\n                        showWorldDropdown: false,\r\n                        worldResults: [],\r\n                        items: [{\r\n                            nameSearch: '',\r\n                            threshold: 0,\r\n                            showDropdown: false,\r\n                            searchResults: []\r\n                        }]\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.error('获取订阅信息失败:', error);\r\n                // 如果获取失败，至少显示一个空的表单\r\n                subscriptionGroups.value = [{\r\n                    worldSearch: '',\r\n                    showWorldDropdown: false,\r\n                    worldResults: [],\r\n                    items: [{\r\n                        nameSearch: '',\r\n                        threshold: 0,\r\n                        showDropdown: false,\r\n                        searchResults: []\r\n                    }]\r\n                }];\r\n            }\r\n        };\r\n\r\n        // 添加提交处理函数\r\n        const handleSubmit = async () => {\r\n            try {\r\n                // 转换数据格式\r\n                const subscribeData: UserSubscribeReqDTO[] = subscriptionGroups.value\r\n                    .filter(group => group.worldId && group.items.length > 0)\r\n                    .map(group => ({\r\n                        world: {\r\n                            id: group.worldId!\r\n                        },\r\n                        items: group.items\r\n                            .filter(item => item.id)\r\n                            .map(item => {\r\n                                const itemData: ItemSubReqDTO = {\r\n                                    item: {\r\n                                        id: item.id!\r\n                                    }\r\n                                };\r\n                                // 只有当 threshold 有值且不为 0 时才添加\r\n                                if (item.threshold) {\r\n                                    itemData.notifyThreshold = item.threshold;\r\n                                }\r\n                                return itemData;\r\n                            })\r\n                    }));\r\n\r\n                if (subscribeData.length === 0) {\r\n                    alert('请至少添加一个有效的订阅项');\r\n                    return;\r\n                }\r\n\r\n                // 检查每个组是否都有至少一个物品\r\n                const invalidGroup = subscribeData.find(group => group.items.length === 0);\r\n                if (invalidGroup) {\r\n                    alert('每个区服至少需要订阅一个物品');\r\n                    return;\r\n                }\r\n\r\n                // 调用保存接口\r\n                await axios.post('/ff14/subscribe', subscribeData);\r\n                alert('保存成功');\r\n\r\n                // 重新获取最新数据\r\n                await fetchSubscriptions();\r\n            } catch (error: any) {\r\n                console.error('保存订阅失败:', error);\r\n                alert(error.response?.data?.message || '保存失败，请重试');\r\n            }\r\n        };\r\n\r\n        // 在组件挂载时调用获取订阅信息的函数\r\n        onMounted(() => {\r\n            fetchSubscriptions();\r\n        });\r\n\r\n        return {\r\n            subscriptionGroups,\r\n            searchWorlds,\r\n            searchItems,\r\n            showWorldDropdown,\r\n            showItemDropdown,\r\n            hideDropdown,\r\n            selectWorld,\r\n            selectItem,\r\n            addServerGroup,\r\n            addItem,\r\n            deleteItem,\r\n            fetchSubscriptions,\r\n            handleSubmit\r\n        };\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.subscribe-container {\r\n    min-height: 100vh;\r\n    background-color: #f5f5f5;\r\n}\r\n\r\n.nav-bar {\r\n    padding: 15px 0;\r\n    display: flex;\r\n    gap: 30px;\r\n    border-bottom: 1px solid #eee;\r\n    margin-left: 20px;\r\n    background-color: #fff;\r\n}\r\n\r\n.nav-item {\r\n    text-decoration: none;\r\n    color: #666;\r\n    font-size: 14px;\r\n    position: relative;\r\n}\r\n\r\n.nav-item.active {\r\n    color: #4285f4;\r\n}\r\n\r\n.nav-item.active::after {\r\n    content: '';\r\n    position: absolute;\r\n    bottom: -16px;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #4285f4;\r\n}\r\n\r\n.content {\r\n    padding: 40px;\r\n}\r\n\r\n.page-title {\r\n    font-size: 24px;\r\n    color: #333;\r\n    margin-bottom: 30px;\r\n    font-weight: normal;\r\n    text-align: left;\r\n}\r\n\r\n.subscription-form {\r\n    position: relative;\r\n    padding: 20px 0;\r\n    background-color: #fff;\r\n    border-radius: 4px;\r\n}\r\n\r\n.group {\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.input-row {\r\n    display: flex;\r\n    gap: 17px;\r\n    margin-bottom: 10px;\r\n    padding: 0 40px;\r\n    align-items: flex-start;\r\n}\r\n\r\n.server-column {\r\n    position: relative;\r\n    width: 200px;\r\n}\r\n\r\n.items-column {\r\n    flex: 1;\r\n}\r\n\r\n.item-wrapper {\r\n    display: flex;\r\n    gap: 15px;\r\n    position: relative;\r\n}\r\n\r\n/* 调整输入框宽度 */\r\n.input-field {\r\n    height: 32px;\r\n    padding: 0 12px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    background-color: #fff;\r\n}\r\n\r\n.input-wrapper .input-field {\r\n    width: 200px;\r\n}\r\n\r\n.threshold {\r\n    width: 200px;\r\n}\r\n\r\n.dropdown-menu {\r\n    position: absolute;\r\n    width: 200px;\r\n    background: white;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    max-height: 200px;\r\n    overflow-y: auto;\r\n    z-index: 1000;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.dropdown-item {\r\n    padding: 8px 12px;\r\n    cursor: pointer;\r\n}\r\n\r\n.dropdown-item:hover {\r\n    background-color: #f5f5f5;\r\n}\r\n\r\n\r\n.plus-icon {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-color: #4285f4;\r\n    color: white;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 16px;\r\n    line-height: 1;\r\n}\r\n\r\n.add-server {\r\n    margin: 20px 0 0 40px;\r\n}\r\n\r\n.empty-field {\r\n    width: 200px;\r\n}\r\n\r\ninput:focus {\r\n    outline: none;\r\n    border-color: #4285f4;\r\n}\r\n\r\n/* 移除number输入框的箭头 */\r\ninput[type=\"number\"]::-webkit-inner-spin-button,\r\ninput[type=\"number\"]::-webkit-outer-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n}\r\n\r\n.add-world-button {\r\n    background: none;\r\n    border: none;\r\n    padding: 0 40px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.add-item-button {\r\n    background: none;\r\n    border: none;\r\n    padding: 0 260px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.delete-button {\r\n    background: none;\r\n    border: none;\r\n    color: #999;\r\n    cursor: pointer;\r\n    font-size: 18px;\r\n    padding: 0 8px;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.delete-button:hover {\r\n    color: #ff4444;\r\n}\r\n\r\n.submit-row {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 30px;\r\n    padding: 0 40px;\r\n}\r\n\r\n.submit-button {\r\n    background-color: #4285f4;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    padding: 10px 30px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.submit-button:hover {\r\n    background-color: #3367d6;\r\n}\r\n</style>","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Login.vue",["59","60","61","62"],"<template>\r\n    <div class=\"login-container\">\r\n        <div class=\"nav-bar\">\r\n            <router-link to=\"/\" class=\"nav-item\">首页</router-link>\r\n            <router-link to=\"/subscribe\" class=\"nav-item\">物品订阅</router-link>\r\n        </div>\r\n        <div class=\"content\">\r\n            <div class=\"login-box\">\r\n                <h1 class=\"title\">登录</h1>\r\n                <form @submit.prevent=\"handleLogin\" class=\"login-form\">\r\n                    <div class=\"form-group\">\r\n                        <input type=\"text\" v-model=\"loginForm.userAccount\" class=\"input-field\" placeholder=\"请输入账户名/邮箱\"\r\n                            required>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <input type=\"password\" v-model=\"loginForm.password\" class=\"input-field\" placeholder=\"请输入密码\"\r\n                            required>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <button type=\"submit\" class=\"login-btn\">登录</button>\r\n                    </div>\r\n                    <div class=\"form-footer\">\r\n                        <router-link to=\"/register\" class=\"register-link\">没有账号？立即注册</router-link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport axios from '@/utils/axios';\r\n\r\nexport default defineComponent({\r\n    name: 'LoginPage',\r\n    setup() {\r\n        const router = useRouter();\r\n        const store = useStore();\r\n        const loginForm = ref({\r\n            userAccount: '',\r\n            password: ''\r\n        });\r\n\r\n        const handleLogin = async () => {\r\n            try {\r\n                // 1. 登录请求\r\n                const loginResponse = await axios.post('/ff14/user/login', loginForm.value);\r\n                console.log('Login response:', loginResponse.data);\r\n\r\n                // 2. 设置 token\r\n                const { tokenValue, userId } = loginResponse.data;\r\n                if (!tokenValue) {\r\n                    throw new Error('登录返回的数据格式不正确');\r\n                }\r\n\r\n                // 3. 更新 Vuex store\r\n                store.commit('auth/setToken', tokenValue);\r\n                store.commit('auth/setLoggedIn', true);\r\n\r\n                // 4. 获取用户信息\r\n                const userInfoResponse = await axios.get(`/ff14/user/info`);\r\n                console.log('User info response:', userInfoResponse.data);\r\n\r\n                const userInfo = userInfoResponse.data;\r\n                if (userInfo) {\r\n                    store.commit('auth/setUser', {\r\n                        userName: userInfo.userName,\r\n                        email: userInfo.email\r\n                    });\r\n                }\r\n\r\n                // 5. 跳转到首页\r\n                router.push('/');\r\n            } catch (error: any) {\r\n                console.error('登录失败:', error);\r\n                const errorMessage = error.response?.data?.message || '登录失败，请重试';\r\n                alert(errorMessage);\r\n            }\r\n        };\r\n\r\n        return {\r\n            loginForm,\r\n            handleLogin\r\n        };\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n    min-height: 100vh;\r\n    background-color: #ffffff;\r\n}\r\n\r\n.nav-bar {\r\n    padding: 15px 0;\r\n    display: flex;\r\n    gap: 30px;\r\n    border-bottom: 1px solid #eee;\r\n    margin-left: 20px;\r\n}\r\n\r\n.nav-item {\r\n    text-decoration: none;\r\n    color: #666;\r\n    font-size: 14px;\r\n    position: relative;\r\n}\r\n\r\n.content {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding-top: 100px;\r\n}\r\n\r\n.login-box {\r\n    width: 400px;\r\n    padding: 40px;\r\n    background: #fff;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.title {\r\n    font-size: 24px;\r\n    color: #333;\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n    font-weight: normal;\r\n}\r\n\r\n.login-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n}\r\n\r\n.form-group {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.input-field {\r\n    height: 40px;\r\n    padding: 0 15px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    transition: border-color 0.3s;\r\n}\r\n\r\n.input-field:focus {\r\n    outline: none;\r\n    border-color: #4285f4;\r\n}\r\n\r\n.login-btn {\r\n    width: 100%;\r\n    height: 40px;\r\n    background-color: #4285f4;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.login-btn:hover {\r\n    background-color: #3367d6;\r\n}\r\n\r\n.form-footer {\r\n    text-align: center;\r\n    margin-top: 10px;\r\n}\r\n\r\n.register-link {\r\n    color: #4285f4;\r\n    text-decoration: none;\r\n    font-size: 14px;\r\n}\r\n\r\n.register-link:hover {\r\n    text-decoration: underline;\r\n}\r\n</style>\r\n","D:\\cursor_workspace\\ff14_market_subscribe\\ff14_market_subscribe_frontend\\src\\views\\Register.vue",["63"],"<template>\r\n    <div class=\"register-container\">\r\n        <div class=\"nav-bar\">\r\n            <router-link to=\"/\" class=\"nav-item\">首页</router-link>\r\n            <router-link to=\"/subscribe\" class=\"nav-item\">物品订阅</router-link>\r\n        </div>\r\n        <div class=\"content\">\r\n            <div class=\"register-box\">\r\n                <h1 class=\"title\">用户注册</h1>\r\n                <form @submit.prevent=\"handleRegister\" class=\"register-form\">\r\n                    <div class=\"form-group\">\r\n                        <input type=\"text\" v-model=\"user.userName\" class=\"input-field\" placeholder=\"请输入昵称\" required>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <input type=\"text\" v-model=\"user.userAccount\" class=\"input-field\" placeholder=\"请输入账户名\" required>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <input type=\"email\" v-model=\"user.email\" class=\"input-field\" placeholder=\"请输入邮箱\" required>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <input type=\"password\" v-model=\"user.password\" class=\"input-field\" placeholder=\"请输入密码\" required>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <button type=\"submit\" class=\"register-btn\">注册</button>\r\n                    </div>\r\n                    <div class=\"form-footer\">\r\n                        <router-link to=\"/login\" class=\"login-link\">已有账号？立即登录</router-link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from '@/utils/axios';\r\n\r\nexport default defineComponent({\r\n    name: 'RegisterPage',\r\n    setup() {\r\n        const router = useRouter();\r\n        const user = ref({\r\n            userAccount: '',\r\n            userName: '',\r\n            email: '',\r\n            password: ''\r\n        });\r\n\r\n        const handleRegister = async () => {\r\n            try {\r\n                await axios.post('/ff14/user/register', user.value);\r\n                alert('注册成功！');\r\n                router.push('/login');\r\n            } catch (error: any) {\r\n                console.error('注册失败:', error);\r\n                alert(error.response?.data?.message || '注册失败，请重试');\r\n            }\r\n        };\r\n\r\n        return {\r\n            user,\r\n            handleRegister\r\n        };\r\n    }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n    min-height: 100vh;\r\n    background-color: #ffffff;\r\n}\r\n\r\n.nav-bar {\r\n    padding: 15px 0;\r\n    display: flex;\r\n    gap: 30px;\r\n    border-bottom: 1px solid #eee;\r\n    margin-left: 20px;\r\n}\r\n\r\n.nav-item {\r\n    text-decoration: none;\r\n    color: #666;\r\n    font-size: 14px;\r\n    position: relative;\r\n}\r\n\r\n.content {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding-top: 100px;\r\n}\r\n\r\n.register-box {\r\n    width: 400px;\r\n    padding: 40px;\r\n    background: #fff;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.title {\r\n    font-size: 24px;\r\n    color: #333;\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n    font-weight: normal;\r\n}\r\n\r\n.register-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n}\r\n\r\n.form-group {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.input-field {\r\n    height: 40px;\r\n    padding: 0 15px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    transition: border-color 0.3s;\r\n}\r\n\r\n.input-field:focus {\r\n    outline: none;\r\n    border-color: #4285f4;\r\n}\r\n\r\n.register-btn {\r\n    width: 100%;\r\n    height: 40px;\r\n    background-color: #4285f4;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.register-btn:hover {\r\n    background-color: #3367d6;\r\n}\r\n\r\n.form-footer {\r\n    text-align: center;\r\n    margin-top: 10px;\r\n}\r\n\r\n.login-link {\r\n    color: #4285f4;\r\n    text-decoration: none;\r\n    font-size: 14px;\r\n}\r\n\r\n.login-link:hover {\r\n    text-decoration: underline;\r\n}\r\n</style>",{"ruleId":"64","severity":1,"message":"65","line":18,"column":21,"nodeType":"66","messageId":"67","endLine":18,"endColumn":34},{"ruleId":"64","severity":1,"message":"65","line":28,"column":17,"nodeType":"66","messageId":"67","endLine":28,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":23,"column":17,"nodeType":"66","messageId":"67","endLine":23,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":41,"column":9,"nodeType":"66","messageId":"67","endLine":41,"endColumn":20},{"ruleId":"64","severity":1,"message":"65","line":45,"column":9,"nodeType":"66","messageId":"67","endLine":45,"endColumn":22},{"ruleId":"64","severity":1,"message":"65","line":70,"column":17,"nodeType":"66","messageId":"67","endLine":70,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":182,"column":17,"nodeType":"66","messageId":"67","endLine":182,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":196,"column":17,"nodeType":"66","messageId":"67","endLine":196,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":206,"column":17,"nodeType":"66","messageId":"67","endLine":206,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":319,"column":17,"nodeType":"66","messageId":"67","endLine":319,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":380,"column":17,"nodeType":"66","messageId":"67","endLine":380,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":51,"column":17,"nodeType":"66","messageId":"67","endLine":51,"endColumn":28},{"ruleId":"68","severity":1,"message":"69","line":54,"column":37,"nodeType":"70","messageId":"71","endLine":54,"endColumn":43},{"ruleId":"64","severity":1,"message":"65","line":65,"column":17,"nodeType":"66","messageId":"67","endLine":65,"endColumn":28},{"ruleId":"64","severity":1,"message":"65","line":78,"column":17,"nodeType":"66","messageId":"67","endLine":78,"endColumn":30},{"ruleId":"64","severity":1,"message":"65","line":57,"column":17,"nodeType":"66","messageId":"67","endLine":57,"endColumn":30},"no-console","Unexpected console statement.","MemberExpression","unexpected","@typescript-eslint/no-unused-vars","'userId' is assigned a value but never used.","Identifier","unusedVar"]